#!/bin/bash\n\n# Script de migration et seeding complet\n\necho \"🚀 D\u00e9marrage de la migration compl\u00e8te...\"\n\n# \u00c9tape 1: Ex\u00e9cuter les migrations\necho \"1. Ex\u00e9cution des migrations...\"\nnode ace migration:run\n\nif [ $? -ne 0 ]; then\n    echo \"❌ Erreur lors de l'ex\u00e9cution des migrations\"\n    exit 1\nfi\n\n# \u00c9tape 2: Ex\u00e9cuter les seeders (utilisateurs d'abord)\necho \"2. Cr\u00e9ation des utilisateurs...\"\nnode ace db:seed --files=\"database/seeders/user_seeder.ts\"\n\nif [ $? -ne 0 ]; then\n    echo \"❌ Erreur lors de la cr\u00e9ation des utilisateurs\"\n    exit 1\nfi\n\n# \u00c9tape 3: Ex\u00e9cuter le seeder des posts GMB\necho \"3. Cr\u00e9ation des posts GMB...\"\nnode ace db:seed --files=\"database/seeders/gmbPostSeeder.ts\"\n\nif [ $? -ne 0 ]; then\n    echo \"❌ Erreur lors de la cr\u00e9ation des posts GMB\"\n    exit 1\nfi\n\necho \"✅ Migration et seeding termin\u00e9s avec succ\u00e8s !\"\necho \"\"\necho \"📊 R\u00e9sum\u00e9 :\"\necho \"   - Table users mise \u00e0 jour avec notion_id\"\necho \"   - Table gmb_posts mise \u00e0 jour avec user_id\"\necho \"   - Utilisateurs de test cr\u00e9\u00e9s (admin, user, client1, client2)\"\necho \"   - Posts GMB cr\u00e9\u00e9s pour chaque utilisateur\"\necho \"\"\necho \"🔐 Connexions de test :\"\necho \"   Email: admin@mail.fr / Mot de passe: password\"\necho \"   Email: user@mail.fr / Mot de passe: password\"\necho \"   Email: client1@mail.fr / Mot de passe: password\"\necho \"   Email: client2@mail.fr / Mot de passe: password\"\necho \"\"\necho \"🚀 Vous pouvez maintenant d\u00e9marrer l'application avec: npm run dev\"\n